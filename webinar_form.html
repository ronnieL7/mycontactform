<!-- This is a complete, standalone HTML file for the form widget. It is designed to be hosted and embedded via an iframe. -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <div class="max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-gray-200">
        <h2 class="text-3xl font-bold text-center text-gray-800 mb-6">Contact Us</h2>
        <p class="text-center text-gray-500 mb-8">Please fill out the form to get started. All fields are required.</p>
    
        <form id="contactForm" action="#" method="post" class="space-y-6">
    
            <div>
                <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                <input type="text" id="first-name" name="First Name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>
    
            <div>
                <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                <input type="text" id="last-name" name="Last Name" required class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>
    
            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input type="email" id="email" name="Email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            </div>
    
            <button type="submit" id="submitBtn" class="w-full px-4 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                Submit
            </button>
            
        </form>

        <!-- Message Box for Feedback -->
        <div id="messageBox" class="mt-4 hidden p-3 rounded-lg text-sm text-center"></div>

    </div>
    
    <script>
        const form = document.getElementById('contactForm');
        const submitBtn = document.getElementById('submitBtn');
        const messageBox = document.getElementById('messageBox');
        const scriptURL = 'https://script.google.com/macros/s/AKfycbxbGik_upYt3nRQgVabdzx6K89MmF2WmMcsRmystE10asBgSW0r-YURAHvOTGDnk_UM/exec';

        // Function to display messages in the message box
        function showMessage(message, isSuccess = true) {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'bg-green-100', 'text-green-700');
            if (isSuccess) {
                messageBox.classList.add('bg-green-100', 'text-green-700');
            } else {
                messageBox.classList.add('bg-red-100', 'text-red-700');
            }
        }
    
        form.addEventListener('submit', function(event) {
            event.preventDefault();
    
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';
            submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
            messageBox.classList.add('hidden');
    
            const formData = new FormData(form);
    
            fetch(scriptURL, {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(result => {
                if (result.trim() === 'Success') {
                    showMessage('Form submitted successfully!', true);
                } else {
                    showMessage('An error occurred. Please try again.', false);
                    console.error('Script returned an error:', result);
                }
            })
            .catch(error => {
                showMessage('A network error occurred. Please try again.', false);
                console.error('Fetch error:', error);
            })
            .finally(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit';
                submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            });
        });
    </script>
</body>
</html>
